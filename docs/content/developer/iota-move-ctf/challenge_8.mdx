
import ChallengeVerifier  from '@site/src/components/CTF/ctf-verifier';




# Challenge 8: Flash!

In this challenge, you will explore a decentralized exchange (DEX) with a critical flaw you can exploit to capture the flag. This exchange operates with two tokens—CTFA and CTFB—and features a vault that allows users to take flash loans. Your objective is to manipulate the token balances effectively to obtain the flag by using the vulnerabilities in the DEX's flash loan mechanism. 
To solve this challenge, you will have to have a deep understanding of [programmable transaction blocks (PTBs)](../iota-101/transactions/ptb/programmable-transaction-blocks-overview.mdx) and how to build them using the [TS SDK](../iota-101/transactions/ptb/building-programmable-transaction-blocks-ts-sdk.mdx) or the [CLI](../../references/cli/ptb.mdx).

## Deployed Contract Addresses:
```
CoinMetadata<0x83c383aaf49048aec51e1d2811e2c8e7b947a725fd4c20d9ce78a8b3702cecb9::ctfa::CTFA>: 0x0ce82a9f00dba0def36d8b628e549086076a496246e1ef15038a9e3b6dadd929
MintB<0x83c383aaf49048aec51e1d2811e2c8e7b947a725fd4c20d9ce78a8b3702cecb9::ctfb::CTFB>: 0x3605e7efd4b82ed41e7ac52d6fabc822b64960182ceebc9e4450167666bb987e
CoinMetadata<0x83c383aaf49048aec51e1d2811e2c8e7b947a725fd4c20d9ce78a8b3702cecb9::ctfb::CTFB>: 0x82bdd9f85c6f5cd708e5e31c96d18a23616e33282ea173c1cfa99af2329bd6ff
Package: 0x83c383aaf49048aec51e1d2811e2c8e7b947a725fd4c20d9ce78a8b3702cecb9
MintA<0x83c383aaf49048aec51e1d2811e2c8e7b947a725fd4c20d9ce78a8b3702cecb9::ctfa::CTFA>: 0xd402cfbe901f52d57dec1e840c57fbf5a5a455faf00bc1511d067e4125b517d2
```

## Contracts

### `firstcoin.move`
```move file=<rootDir>/docs/examples/move/ctf/challenge_8/sources/firstcoin.move
```

### `secondcoin.move`
```move file=<rootDir>/docs/examples/move/ctf/challenge_8/sources/secondcoin.move
```

### `vault.move`
```move file=<rootDir>/docs/examples/move/ctf/challenge_8/sources/vault.move
```

Good luck in capturing your eighth flag!


## Related Articles
This challenge will test your understanding of the Object Model, the Coin Standard, and PTBs. You will need to use your knowledge of these concepts to exploit the DEX's flash loan mechanism and capture the flag.

- [Coin Standard](../standards/coin.mdx)
- [Object Model](../iota-101/objects/object-model.mdx)
- [Programmable Transaction Blocks](../iota-101/transactions/ptb/programmable-transaction-blocks-overview.mdx)
- [IOTA CLI reference](../../references/cli/ptb.mdx)
- [IOTA TS SDK reference](../iota-101/transactions/ptb/building-programmable-transaction-blocks-ts-sdk.mdx)



:::tip
The DEX programmer pulled an all-nighter before writing the flash loan mechanism, making a critical mistake.
:::




<ChallengeVerifier expectedObjectType="0x83c383aaf49048aec51e1d2811e2c8e7b947a725fd4c20d9ce78a8b3702cecb9::vault::Flag" />